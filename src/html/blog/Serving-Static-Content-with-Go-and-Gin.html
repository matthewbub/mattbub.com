<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Serving Static Content with Go and Gin</title>
	<meta name="description" content="A straightforward guide to serving static content using Go and the Gin web framework.">
</head>
<body>
	<h1 class="title">Serving Static Content with Go and Gin</h1>
	<p class="description">A straightforward guide to serving static content using Go and the Gin web framework.</p>
	<p class="pubDate">March 19 2024</p>
	<div class="content">
		<p>To build a web app you&rsquo;ve got to be able to serve static content somehow. This article aims to do just that with HTML, CSS and JavaScript.</p>

<h2 id="setting-up-the-environment">Setting Up the Environment</h2>

<p>The only required package needed for the scope of this article is:</p>

<ul>
<li>github.com/gin-gonic/gin - An HTTP Web Framework-</li>
</ul>

<h2 id="installing-dependencies">Installing Dependencies</h2>

<p>If you aren&rsquo;t already using Gin, you&rsquo;ll need to install the package as a dependency to the project.</p>

<pre><code class="language-shell">go get github.com/gin-gonic/gin
</code></pre>

<h2 id="preparing-html-templates">Preparing HTML Templates</h2>

<p>Now we could create a <code>templates/</code> directory and stick some HTML in there.</p>

<pre><code class="language-shell">mkdir templates
touch templates/index.html
echo &quot;&lt;h1&gt;{{.message}}&lt;/h1&gt;&quot; &gt;&gt; templates/index.html
</code></pre>

<h3 id="configuring-the-server-in-go">Configuring the Server in Go</h3>

<p>Let&rsquo;s say we&rsquo;re going to set the server up in the <code>main.go</code> file. To utilize the templating aspect of Go and Gin, we can load the HTML glob at runtime using the <a href="https://gin-gonic.com/docs/examples/html-rendering/" target="_blank"><code>LoadHTMLGlob</code></a> method.</p>

<pre><code class="language-go">package main

import (
	&quot;github.com/gin-gonic/gin&quot;
)

func main() {
	r := gin.Default()
	// Set the location of the templates
	r.LoadHTMLGlob(&quot;templates/*&quot;)

	// Define a route to serve the HTML file
	r.GET(&quot;/&quot;, func(c *gin.Context) {
		// Render the HTML file
		c.HTML(200, &quot;index.html&quot;, gin.H{
			&quot;message&quot;: &quot;Hello, World!&quot;,
		})
	})

	r.Run()
}
</code></pre>

<h2 id="running-the-application">Running the Application</h2>

<p>Now we&rsquo;re in a position where we can run the app, and see if things are working as expected.</p>

<pre><code class="language-shell">go run main.go
</code></pre>

<h2 id="serving-css-and-javascript">Serving CSS and JavaScript</h2>

<p>Now we can go a step further and setup CSS and JS content delivery as well. Create a new directory titled <code>static</code> and organize your files within accordingly.</p>

<h2 id="organizing-static-files">Organizing Static Files</h2>

<pre><code class="language-shell">example-app
├── main.go
├── templates
│   └── index.html
└── static
    ├── css
    │   └── style.css
    └── js
        └── script.js
</code></pre>

<h2 id="updating-the-server-configuration">Updating the Server Configuration</h2>

<p>In the <code>main.go</code> file, we can add an additional method - <a href="https://gin-gonic.com/docs/examples/serving-static-files/" target="_blank"><code>.Static</code></a> right below the <code>.LoadHTMLGlob</code> method to load a glob of static assets. Optionally, we could use the <code>.StaticFile</code> method to serve files on an individual basis.</p>

<pre><code class="language-go">// Set the location of the templates
router.LoadHTMLGlob(&quot;templates/*&quot;)
 // Serve all files under the &quot;./static&quot; directory at the &quot;/static&quot; path
router.Static(&quot;/static&quot;, &quot;./static&quot;)
</code></pre>

<h2 id="modifying-html-for-static-assets">Modifying HTML for Static Assets</h2>

<p>Finally, we can update the HTML file in the <code>templates/</code> directory to load this assets.</p>

<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;{{.message}}&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/static/css/style.css&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, Gin!&lt;/h1&gt;
    &lt;script src=&quot;/static/js/script.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2 id="restarting-the-server">Restarting the Server</h2>

<p>Since we&rsquo;ve modified the server&rsquo;s code again, we&rsquo;ll need to restart server, same as before - yada yada</p>

<pre><code class="language-shell">go run main.go
</code></pre>

<p>Cheers</p>

	</div>
</body>
</html>