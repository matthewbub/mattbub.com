<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A Step by Step Guide to Environment Variables in Go</title>
    <meta
      name="description"
      content="A comprehensive guide on working with environment variables in Go programming"
    />
  </head>
  <body>
    <h1 class="title">A Step by Step Guide to Environment Variables in Go</h1>
    <p class="description">
      A comprehensive guide on working with environment variables in Go
      programming
    </p>
    <p class="pubDate">March 12 2024</p>
    <div class="content">
      <p>
        To use environment variables in Go, you can utilize the
        <code>os</code> package, which provides a portable way of using
        operating system functionality. Here&rsquo;s a simple guide on how to do
        it:
      </p>

      <ol>
        <li>
          <strong>Import the <code>os</code> Package</strong>: First, import the
          <code>os</code> package into your Go program.
        </li>
        <li>
          <strong>Read Environment Variables</strong>: Use the
          <code>os.Getenv</code> function to read an environment variable. It
          returns the value of the environment variable as a string. If the
          variable is not set, it returns an empty string.
        </li>
      </ol>

      <p>
        Here&rsquo;s a basic example to demonstrate how to use environment
        variables in Go:
      </p>

      <pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;os&quot;
)

func main() {
    // Reading a single environment variable
    myEnvVar := os.Getenv(&quot;MY_ENV_VAR&quot;)
    fmt.Println(&quot;MY_ENV_VAR:&quot;, myEnvVar)

    // Setting a default value if the environment variable is not set
    if myEnvVar == &quot;&quot; {
        myEnvVar = &quot;default value&quot;
    }
    fmt.Println(&quot;MY_ENV_VAR (after setting default):&quot;, myEnvVar)

    // Reading all environment variables
    for _, env := range os.Environ() {
        fmt.Println(env)
    }
}
</code></pre>

      <p>
        The example above presumes the environment variables are already
        accessible in your operating system. Follow these steps if you&rsquo;re
        trying to read from a <code>.env*</code> file.
      </p>

      <ol>
        <li>
          <strong>Install the <code>godotenv</code> Package</strong>: First,
          you&rsquo;ll want to install the <code>godotenv</code> package. You
          can do this by running:
        </li>
      </ol>

      <pre><code class="language-shell">go get github.com/joho/godotenv
</code></pre>

      <ol>
        <li>
          <strong>Create a <code>.env</code> file</strong>: Create a file named
          <code>.env</code> in the root of your project and add your environment
          variables in the format <code>KEY=value</code>. For example:
        </li>
      </ol>

      <pre><code class="language-shell">MY_ENV_VAR=some_value
DATABASE_URL=example_database_url
</code></pre>

      <ol>
        <li>
          <strong>Load <code>.env</code> File in Your Go Application</strong>:
          Use the <code>godotenv</code> package to load your
          <code>.env</code> file at the beginning of your program.
        </li>
      </ol>

      <p>
        Here&rsquo;s an example of how to use <code>godotenv</code> in your Go
        application:
      </p>

      <pre><code class="language-go">package main

import (
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;os&quot;

    &quot;github.com/joho/godotenv&quot;
)

func main() {
    // Load the .env file in the current directory
    err := godotenv.Load()
    if err != nil {
        log.Fatal(&quot;Error loading .env file&quot;)
    }

    // Reading an environment variable
    myEnvVar := os.Getenv(&quot;MY_ENV_VAR&quot;)
    fmt.Println(&quot;MY_ENV_VAR:&quot;, myEnvVar)

	// Reading environment variables
    dbUser := os.Getenv(&quot;DB_USER&quot;)
    dbPass := os.Getenv(&quot;DB_PASS&quot;)

    // Concatenating environment variables with additional text
    // to form a database connection string
    dbConnectionString := fmt.Sprintf(&quot;user=%s password=%s dbname=mydatabase sslmode=disable&quot;, dbUser, dbPass)

    fmt.Println(&quot;Database Connection String:&quot;, dbConnectionString)
}
</code></pre>

      <p>
        Remember: Environment variables generally contain sensitive information;
        be sure to avoid publishing these values.
      </p>
    </div>
  </body>
</html>
